language: java
jdk:
- oraclejdk7
script: |
  if [[ "$TRAVIS_BRANCH" == "master" && "$TRAVIS_PULL_REQUEST" == "false" ]]; then
      ./gradlew publishGhPages --stacktrace;
  else
      echo "Skipping publication to GitHub pages for branch '$TRAVIS_BRANCH' (PR: $TRAVIS_PULL_REQUEST)"
  fi
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
- rm -fr $HOME/.gradle/caches/*/scripts/
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
env:
  global:
    secure: TsnIY07URvHsoZpi0DHEPd5EYvDQedolZPbEy3qIO/YA7CBUk/5mq7kT5grBoNqz3A1ZTh0iuGcBUsLIVBEzqmj/NTiDAfZGzPl4VFX2lG9vvHmaxsCIWaeqlUWhn6ASpe1Kx8E9Y63jTB+eSHXu7mlSGw8/Jl9JDUViJMgaIRSW/0Pg4D2aVyYankg1Pltc7StE9IucJyaxbn70YJuUnRu2m5dcMJ/8oY10XvymY6VR2bxOxdRNSjxZzOGpXkXj2RUZkgHz25cpucrJhmuEzP2YF/CITAd2Np6MKK8LVLB/eexpbjAHCBNb1yut+Rqa3ImnKDTWHCEQjGzMsXXISFb3rmd9ijusN5/Xmt44tMCwuFjP+ypbj/18l03z9Jqih3RNraRRl1SFNJZkWzUrjEWs67ARxjFM2o+pirlWQHSTHpJclOYK5iaJ5wQVD3GX7hFF60DSCdob+bNtd8IWk5sXtAvpc4jglp8S2CUP1gMOCWXH4Ys6Of2ZZrENdUgVqTi7R/43lDAjDODOQ6YsVfzLroSaHZL28sm31qmDMLieKAeDKFtyciuIA1d/QkzJDlkujBH82yQ5P132Ge3KQrQva2fe1rTmFYoWPxIAvViGfw/DaUECzipIZjUuUC54qqm5lHtKwMmzI+5jwwvQCrrRgmqNgZFFK/b6aWFDYqs=
notifications:
  slack:
    on_success: change
    rooms:
      secure: hx/oNOw07nsrGWvO7TATQA+Kg3GexQ+W3OlRsN8MZfRWqTgsCwGSm1GUPKRBkUadXYiYENzzU60ZIyjBek+5ry2PySS9mVeh5NYhUtlrVdJR8z04T8ZzSdbi+L8aLB1LH/5UWIZth298RqyfK1AKXfhf1n5dTM0dWiZ66v8iQZUh23IIKMZ9f9MAaL6xRph/Aa1JdC+G9ZwlT/VgXKO75oe2Ww6JqMvE0Oh47b7FXuNYRgLXvci3nqLRGe9uDW/rYuU2RRq6Id07vRtRfzpPTCSm4ojmced9n/fTAjsr4diNsdKfk6eq3mGiLdCB1iIsyOkZiSCulXZqeirtG6mNYTK9xZrqSmW3Y8PU7peVGGkgBqAJO4Cdj8sdYvfaWxMiElOlXqnJI02C9KjZ38tfNCzjWantX6y63vjpl0yrWp7CPejA/O5T9+C7dgW3S9dr/gORYfNNCLYmSDCtwkM5U60dtJeRd1oMzupfY2I65BYeFkDAysXHoLo7OLnIJK3FwYpb0wsgn2DlhTEpgrck5TJGbUPyw959EzplrTxCx8cKF3A0LCMOKhVo07gVguyAS2n4vOl8Ec7XRtoGg4S9mJGKgsZBhna+PKI4gqovGETLUpyAhgw5+JJLfuTbdL6/N25nPQ7fff2P/5QevZBD+jkcIYHBnGjpUEuRvZPPczQ=
