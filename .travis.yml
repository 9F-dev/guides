language: java
matrix:
  include:
  - os: linux
    dist: trusty
    jdk: oraclejdk8
  - os: osx
    osx_image: xcode8.3
script: GRGIT_PASS= ./gradlew build gitPublishPush --stacktrace
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
- rm -fr $HOME/.gradle/caches/*/scripts/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
env:
  global:
    secure: XrEJQCxWTk3fU1s97w5KlXaia5kMEd7VgJv2hjbkUoU0nap6d7+/f1PMD4rT65qu5rn1jl73JOgFyt9y0P1ebHQvfMM3KE32vRjzGJ6yJ8apdOv/u0uX8KUCsvZFoeV59bzsEdTEvUR3dWA/8fCc7gLZfaJ1AwEL9nYWCb2sf1DIPUHcLR69w/QIc7LpS23ArmKH/Srh0c2l7thrmSLpelmbsFJWUHItvcNoGESdDI2XPMFDgjmXiLH4L5MF6pDJJd3X8ydDYcspr8Bry48WrMxqB8f6+3GjfoHxoUHFvpt/px18W/zHL1MT6AmfGiPWfBJF/X6j/le2p9G+U8RqdEuwCxIxc028Fwv6hGuDeZRshhBhgFOYoePf1DLMfqJORWe9FQGwvGZGtQSXtZuX6N90h+f0weA0ZCsMeAzoBDfomNL9LmmLYh7XbgyOZJAn9AQ8yj+2ZMSbhaV+TdQy9koSdjyYIXBUBMyzSK/5KEAsbyAdTSOgZZ/S8rYiRRfkGUni7ZxR/RP7EK9UQhMitm/RR1z/BoVys0eLx6je74Q8npwh5xMRECwO+yRF7rUtiSxG86zud3xxxVxEvrriMfmguEpMYMBpmqW/ASwu7rc2A1+9z1thuEDYoqTdHLZuTellgn/yIeY8VEyeRNufrQr5Ces4eie4Eqd0TMjcv90=
notifications:
  slack:
    on_success: change
    rooms:
      secure: 1pJzgkUfiSP/KX5TuAsAgKhFtaVcfVWwdK+rbHMpzX0herxB4aAtVh3V1EnkiOgPkCcehviLC5MsEDxgwMsLt7Ko7RQsZLd42w8dxv+cxQad4f3LPlej6G2QJMjO0+JeDDC++lBcYsj932buT7XqZQ37QYGuM2GOp3bOqwhZ0mpHgyQ/pWw+m0upiJL1Z/snjt6tLsQejUKFkl71omDleB/JPmgSDgXWIBBtPkR+J4ScH9cSXWgtuks30kk/BcI6NOGNDkieJb32K8xDxE8VlK7OY2TNGAEzHD4tFBHQMDLeWQvkc7tPWq9D4GZ2YyJpeq+wnKqu2xZOTkqq6hCDAHhaEGj8CPztHCsg1BdSc6Sq7yJxA8JDvWzh8v8nqRkhiIRPwAjX83DEJYvsA32ytQmibfBq2TEQMhiIDPp5H4YixdGqLxPCXFqR5H+JOwARllYCoMTbSxJimnfLdCFyFhXiX3LTne8GPJnoJx7nsizLSdJ4Ww8XdYmMAHP2QDBQFTdsJpHorm1/FCdqBXdcXNiY6vqRnGHzmiun+3cQEmHfwsiZ3pd4DFgaNjnjxc0zoW+0Qci7ybVtxG5xdFOg8jA/NvnDiEzdg20evNJk1WDboEuHg6eFjVJsjYhElQAcmZEgMjn24Ve/jAqxwcrcGIh5F6p3vmQWeBlgAdptbWU=
