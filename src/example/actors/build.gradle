plugins {
    id 'java-library'
}

targetCompatibility = '1.9'

repositories {
    jcenter()
}

dependencies {
    implementation 'com.google.guava:guava:22.0'

    testImplementation 'junit:junit:4.12'
}

compileJava {
    destinationDir = file("build/mods")
    options.compilerArgs = [
        '--module-path', classpath.asPath,
        '--module-source-path', sourceSets.main.java.srcDirs.join(System.getProperty('path.separator')),
        '-m', 'org.gradle.actors',
    ]
    doLast {
      copy {
        from file(new File(destinationDir,  'org.gradle.actors'))
        into sourceSets.main.java.outputDir.absolutePath
      }
    }
}
